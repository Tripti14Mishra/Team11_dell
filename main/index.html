<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Bootstrap-ecommerce by Vosidiy">

<title>Dell.com</title>

<script src= "https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"> </script> 
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
        
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->

    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
    
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
	

<link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico">

<!-- jQuery -->
<script src="js/jquery-2.0.0.min.js" type="text/javascript"></script>

<!-- Bootstrap4 files-->
<script src="js/bootstrap.bundle.min.js" type="text/javascript"></script>
<link href="static/css/bootstrap.css" rel="stylesheet" type="text/css"/>

<!-- Font awesome 5 -->
<link href="static/fonts/fontawesome/css/fontawesome-all.min.css" type="text/css" rel="stylesheet">

<!-- plugin: fancybox  -->
<script src="static/plugins/fancybox/fancybox.min.js" type="text/javascript"></script>
<link href="static/plugins/fancybox/fancybox.min.css" type="text/css" rel="stylesheet">

<!-- plugin: owl carousel  -->
<link href="static/plugins/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
<link href="static/plugins/owlcarousel/assets/owl.theme.default.css" rel="stylesheet">
<script src="static/plugins/owlcarousel/owl.carousel.min.js"></script>

<!-- custom style -->
<link href="static/css/ui.css" rel="stylesheet" type="text/css"/>
<link href="static/css/responsive.css" rel="stylesheet" media="only screen and (max-width: 1200px)" />
<link href="static/style.css" rel="stylesheet" type="text/css"/>

<!-- custom javascript -->
<script src="js/script.js" type="text/javascript"></script>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

<script type="text/javascript">
/// some script


// jquery ready start

// jquery end
</script>
<style >
	body
	{
		background: #add8e6;
	}
	.price-wrap
	{
		display: inline;
	}
	.price-wrap .addbtn 
	{
			margin-right: 5px;
			width:100%;
			color: white;
	}
	#id1 input[type=text], select, textarea 
	{
			  width: 100%; /* Full width */
			  padding: 12px; /* Some padding */  
			  border: 1px solid #ccc; /* Gray border */
			  border-radius: 4px; /* Rounded borders */
			  box-sizing: border-box; /* Make sure that padding and width stays in place */
			  margin-top: 6px; /* Add a top margin */
			  margin-bottom: 16px; /* Bottom margin */
			  resize: vertical /* Allow the user to vertically resize the textarea (not horizontally) */
	}

	#id1 input[type=submit] 
	{
			  background-color: #007bff;
			  color: white;
			  padding: 12px 20px;
			  border: none;
			  border-radius: 4px;
			  cursor: pointer;
	}

			/* When moving the mouse over the submit button, add a darker green color */
	#id1 input[type=submit]:hover 
	{
			  background-color: #45a049;
	}

			/* Add a background color and some padding around the form */
	#id1 .container 
	{
			  border-radius: 5px;
			  background-color: #f2f2f2;
			  padding: 20px;
	}


</style>

</head>
<body>
<header class="section-header">
<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark static-top">
  <div class="container">
    <a class="navbar-brand" href="#">
          <img src="https://upload.wikimedia.org/wikipedia/commons/4/48/Dell_Logo.svg" style="height: 50px; width: 30%; padding-top: 1px;" alt="">
        </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item active">
          <a class="nav-link" href="index.html">Home
                <span class="sr-only">(current)</span>
              </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Services</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#id1">Feedback</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<section class="section-content bg padding-y-sm">
<div class="container">
<div class="card">
<div class="card-body">

<div class="row">
	<div class="col-md-3-24"> <strong>Recommend by:</strong> </div>
	<div class="col-md-21-24"> 
		<ul class="list-inline">
		 
		  <li class="list-inline-item"><a href="#">Specifications</a></li>
		  <li class="list-inline-item"><a href="#">Popularity</a></li>
		  <li class="list-inline-item">
		  	<div class="form-inline">
		  		<label class="mr-2">Price</label>
				<input class="form-control form-control-sm" id="min" placeholder="Min" type="number">
					<span class="px-2"> - </span>
				<input class="form-control form-control-sm" id="max" placeholder="Max" type="number">
				<button type="submit" id="sortprice" class="btn btn-sm ml-2">Ok</button>
			</div>
		  </li>
		</ul>
	</div> <!-- col.// -->
</div> <!-- row.// -->
	</div> <!-- card-body .// -->
</div> <!-- card.// -->

<div class="padding-y-sm">
<span><h3>Recommendations:</h3></span>	
</div>

<div class="row-sm" id="appenddiv">
<!-- hereherehere -->
<!-- <div id="chartContainer" style="height: 80px; width: 80px;"></div> -->

<!-- <div class="col-md-3 col-sm-6">
	<figure class="card card-product">
		<div class="img-wrap"> 
			<img src="static/images/xps_13.jpeg"></div>
			<figcaption class="info-wrap">
				<a href="#" class="title">XPS 13</a>
				<div class="price-wrap">
					<span class="price-new">Euros 1278</span>

					<span class="some"><div id="chartContainer" style="height: 80px; width: 80px;"></div></span>
				</figcaption>
				<figcaption class="info-wrap">
						<div class="price-wrap"><button class = "addbtn btn btn-primary">Buy Now</button>
							<button class = "dontbtn btn btn-primary"><i>i</i></button>
						</div>
					</figcaption>
					
				</figure>
			 </div> -->


</div>

</div> <!-- row.// -->


</div><!-- container // -->
</section>
<div id="id1" style="background-color: #add8e6;">
	<div class="container">
  <form method="POST">

    <label for="fname">First Name</label>
    <input type="text" id="fname" name="firstname" placeholder="Your name..">

    <label for="lname">Last Name</label>
    <input type="text" id="lname" name="lastname" placeholder="Your last name..">

   
    <label for="subject">Tell us what you didn't like about our recommendation system to help us better our results... </label>
    <textarea id="subject" name="message" placeholder="Write something.." style="height:200px"></textarea>

    <input type="submit" value="Submit" style="width: 100%;">

  </form>
</div>
	
</div>


<script>


dg = {'Alketron DDR3 RAM 4GB':['1260','static/images/ddr3.jpg'],
		'Alketron 1333MHz Long-DIMM CL-9 DDR3 2GB':['299','static/images/133.jpg'],
		'Dell Inspiron 3541 3542 3543 Vostro 3546 Laptop Internal Keyboard':['480','static/images/ins_keyboard.jpg'],
		'Dell KB216 Wired Multimedia USB Keyboard':['599','static/images/wired_key.jpg'],
		'Dell MS116 1000DPI USB Wired Optical Mouse':['399','static/images/ms116.jpg']
}

dgtemp = ['Alketron DDR3 RAM 4GB',
		'Alketron 1333MHz Long-DIMM CL-9 DDR3 2GB',
		'Dell Inspiron 3541 3542 3543 Vostro 3546 Laptop Internal Keyboard',
		'Dell KB216 Wired Multimedia USB Keyboard',
		'Dell MS116 1000DPI USB Wired Optical Mouse']
			
			
			
function getchart(chartid, perc){
	if(perc>50){
		perc=95;
	}
	else{
		perc=50+perc;
	}
	var chart = new CanvasJS.Chart(chartid, {
	animationEnabled: true,
	title:{
		text: "",
		horizontalAlign: "left"
	},
	data: [{
		type: "doughnut",
		startAngle: 270,
		//innerRadius: 60,
		indexLabelFontSize: 13,
		indexLabel: "",
		toolTipContent: "",
		dataPoints: [
			{ y: (perc), label: "" },
			{ y: (100-perc), label: "" }
			
		]
	}]
});
chart.render();
}
var k=0;
function getrec() {




			$.get("/get", { msg: '200' }).done(function(data) {
				
				
				for(var i=0;i<data.length;i=i+20){
					$("#appenddiv").append('<div class="container"><h5>Because you searched for: '+data[i+4]+'</h5></div>');
					for (var j=i;j<i+20;j=j+5){

						var sim = data[j+3];
						var chartid = "chart"+k;
						console.log(k)
						var textt = '<div class="col-md-3 col-sm-6"><figure class="card card-product"><div class="img-wrap"> <img src="'+data[j+2]+'"></div><figcaption class="info-wrap"><a href="#" class="title">'+data[j]+'</a><div class="price-wrap"><span class="price-new">Euros '+data[j+1]+'<div class="price-wrap">Similarity score: '+ (50+data[j+3])+'</div>'+'<span class="some"><div id="chart'+k+'" style="height: 70px; width: 70px;">'+data[j+3]+'</div></span></div></figcaption><figcaption class="info-wrap"><div class="price-wrap"><button class = "addbtn btn btn-primary">Buy Now</button></div></figcaption></figure> </div> ';
						$("#appenddiv").append(textt);
						getchart(chartid,sim);
						k=k+1;
						
					}

					arr=[]
					while(arr.length < 4){
						var r = Math.floor(Math.random()*4) + 1;
						if(arr.indexOf(r) === -1) arr.push(r);
					}


					$("#appenddiv").append('<div class="container"><h6>Gadgets to go with: '+data[i+4]+'</h6></div>');
					for (var m=0;m<3;m++){
						
						var textt = '<div class="col-md-3 col-sm-6"><figure class="card card-product"><div class="img-wrap"> <img src="'+dg[dgtemp[arr[m]]][1]+'"></div><figcaption class="info-wrap"><a href="#" class="title">'+dgtemp[arr[m]]+'</a><div class="price-wrap"><span class="price-new">Euros '+dg[dgtemp[arr[m]]][0]+'</span></div></figcaption></figure></div> ';
						$("#appenddiv").append(textt);
					}
				
				
				}
			});
}

function getrecfilter(min,max) {

$.get("/get", { msg: '200' }).done(function(data) {
	console.log(data);
	// for(var key in data){
	// 	console.log(key)
	// }
	
	for(var i=0;i<data.length;i=i+20){
		
		$("#appenddiv").append('<div class="container"><h5>Because you searched for: '+data[i+4]+'</h5></div>');
		for (var j=i;j<i+20;j=j+5){
			if(data[j+1]>min && data[j+1]<max){

				var sim = data[j+3];
				var chartid = "chart"+k;
				console.log(k)
				var textt = '<div class="col-md-3 col-sm-6"><figure class="card card-product"><div class="img-wrap"> <img src="'+data[j+2]+'"></div><figcaption class="info-wrap"><a href="#" class="title">'+data[j]+'</a><div class="price-wrap"><span class="price-new">Euros '+data[j+1]+'<div class="price-wrap">Similarity score: '+ (50+data[j+3])+'</div>'+'<span class="some"><div id="chart'+k+'" style="height: 70px; width: 70px;">'+data[j+3]+'</div></span></div></figcaption><figcaption class="info-wrap"><div class="price-wrap"><button class = "addbtn btn btn-primary">Buy Now</button></div></figcaption></figure> </div> ';
				$("#appenddiv").append(textt);
				getchart(chartid,sim);
				k=k+1;
			}
			
		}
		arr=[]
					while(arr.length < 4){
						var r = Math.floor(Math.random()*4) + 1;
						if(arr.indexOf(r) === -1) arr.push(r);
					}

					console.log(arr);

					$("#appenddiv").append('<div class="container"><h6>Gadgets to go with: '+data[i+4]+'</h6></div>');
					for (var m=0;m<3;m++){
						
						var textt = '<div class="col-md-3 col-sm-6"><figure class="card card-product"><div class="img-wrap"> <img src="'+dg[dgtemp[arr[m]]][1]+'"></div><figcaption class="info-wrap"><a href="#" class="title">'+dgtemp[arr[m]]+'</a><div class="price-wrap"><span class="price-new">Euros '+dg[dgtemp[arr[m]]][0]+'</span></div></figcaption></figure></div> ';
						$("#appenddiv").append(textt);
					}
		
	}
});
}

$(document).ready(function() {
	getrec();
})

$("#sortprice").click(function(){
	var min = $("#min").val();
	var max= $("#max").val();

	$("#appenddiv").html("");
	getrecfilter(min,max);

});

</script>
<!-- ========================= SECTION CONTENT .END// ========================= -->


<!-- ========================= FOOTER ========================= -->
<footer class="section-footer bg-secondary">
	<div class="container">
		<section class="footer-top padding-top">
			<div class="row">
				<aside class="col-sm-3 col-md-3 white">
					<h5 class="title">Customer Services</h5>
					<ul class="list-unstyled">
						<li> <a href="#">Help center</a></li>
						<li> <a href="#">Money refund</a></li>
						<li> <a href="#">Terms and Policy</a></li>
						<li> <a href="#">Open dispute</a></li>
					</ul>
				</aside>
				<aside class="col-sm-3  col-md-3 white">
					<h5 class="title">My Account</h5>
					<ul class="list-unstyled">
						<li> <a href="#"> User Login </a></li>
						<li> <a href="#"> User register </a></li>
						<li> <a href="#"> Account Setting </a></li>
						<li> <a href="#"> My Orders </a></li>
						<li> <a href="#"> My Wishlist </a></li>
					</ul>
				</aside>
				<aside class="col-sm-3  col-md-3 white">
					<h5 class="title">About</h5>
					<ul class="list-unstyled">
						<li> <a href="#"> Our history </a></li>
						<li> <a href="#"> How to buy </a></li>
						<li> <a href="#"> Delivery and payment </a></li>
						<li> <a href="#"> Advertice </a></li>
						<li> <a href="#"> Partnership </a></li>
					</ul>
				</aside>
				<aside class="col-sm-3">
					<article class="white">
						<h5 class="title">Contacts</h5>
						<p>
							<strong>Phone: </strong> +123456789 <br> 
						    <strong>Fax:</strong> +123456789
						</p>

						 <div class="btn-group white">
						    <a class="btn btn-facebook" title="Facebook" target="_blank" href="#"><i class="fab fa-facebook-f  fa-fw"></i></a>
						    <a class="btn btn-instagram" title="Instagram" target="_blank" href="#"><i class="fab fa-instagram  fa-fw"></i></a>
						    <a class="btn btn-youtube" title="Youtube" target="_blank" href="#"><i class="fab fa-youtube  fa-fw"></i></a>
						    <a class="btn btn-twitter" title="Twitter" target="_blank" href="#"><i class="fab fa-twitter  fa-fw"></i></a>
						</div>
					</article>
				</aside>
			</div> <!-- row.// -->
			<br> 
		</section>
		!-- //footer-top -->
	</div><!-- //container -->
</footer>
<!-- ========================= FOOTER END // ========================= -->


</body>
</html>